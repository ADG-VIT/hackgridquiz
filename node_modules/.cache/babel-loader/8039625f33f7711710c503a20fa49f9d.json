{"ast":null,"code":"import _classCallCheck from \"/home/yash/WebDev/Quiz-Website/player-console/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yash/WebDev/Quiz-Website/player-console/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yash/WebDev/Quiz-Website/player-console/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yash/WebDev/Quiz-Website/player-console/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yash/WebDev/Quiz-Website/player-console/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/yash/WebDev/Quiz-Website/player-console/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/yash/WebDev/Quiz-Website/player-console/src/components/QuizConsole.jsx\";\nimport React, { Component } from \"react\";\nimport CircularProgressbar from \"react-circular-progressbar\";\nimport * as firebase from \"firebase\";\nimport BrandHeader from \"./brandHeader\";\nvar needDominantBaselineFix = true;\n\nvar QuizConsole =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QuizConsole, _Component);\n\n  function QuizConsole(props) {\n    var _this;\n\n    _classCallCheck(this, QuizConsole);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(QuizConsole).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.props.firebaseRef.on(\"value\", function (snapshot) {\n        if (snapshot.exists()) {\n          console.log(snapshot.val().liveQuestion);\n\n          _this.setState({\n            liveQuestion: snapshot.val().liveQuestion\n          });\n\n          _this.updateLiveQuestion();\n        }\n      });\n\n      var firebaseQuestionFind = _this.props.database.ref(\"question/q\".concat(_this.state.liveQuestion));\n\n      firebaseQuestionFind.on(\"value\", function (snapshot) {\n        console.log(snapshot.val().q);\n\n        _this.setState({\n          question: snapshot.val().q\n        });\n      });\n\n      var firebaseUserInfo = _this.props.database.ref(\"players/\".concat(_this.props.teamName));\n\n      firebaseUserInfo.child('counter').set(1);\n      firebaseUserInfo.once('value', function (snapshot) {\n        _this.setState({\n          counter: snapshot.val().counter,\n          score: snapshot.val().score\n        });\n      });\n    };\n\n    _this.updateLiveQuestion = function () {\n      var firebaseQuestionFind = _this.props.database.ref(\"question/q\".concat(_this.state.liveQuestion));\n\n      firebaseQuestionFind.on(\"value\", function (snapshot) {\n        console.log(snapshot.val().q);\n        console.log(snapshot.val().a);\n        console.log(snapshot.val().optionA);\n\n        _this.setState({\n          question: snapshot.val().q,\n          correctAnswer: snapshot.val().a,\n          optiona: snapshot.val().optionA,\n          optionb: snapshot.val().optionB,\n          optionc: snapshot.val().optionC,\n          optiond: snapshot.val().optionD,\n          answered: false,\n          counter: 1\n        });\n\n        _this.removeDisabled();\n      });\n    };\n\n    _this.removeDisabled = function () {\n      document.querySelector(\"#a\").removeAttribute(\"disabled\");\n      document.querySelector(\"#b\").removeAttribute(\"disabled\");\n      document.querySelector(\"#c\").removeAttribute(\"disabled\");\n      document.querySelector(\"#d\").removeAttribute(\"disabled\");\n    };\n\n    _this.updateAnswer = function (event) {\n      // this.removeDisabled()\n      document.querySelector(\"#\".concat(event.target.id)).setAttribute(\"disabled\", true);\n\n      _this.setState({\n        answer: event.target.id,\n        answered: true,\n        counter: 2\n      });\n\n      var firebaseChangeCounter2 = _this.props.database.ref(\"players/\".concat(_this.props.teamName));\n\n      firebaseChangeCounter2.child('counter').set(2);\n\n      var firebaseUserInfo = _this.props.database.ref(\"players/\".concat(_this.props.teamName));\n\n      firebaseUserInfo.once('value', function (snapshot) {\n        _this.setState({\n          counter: 2,\n          score: snapshot.val().score\n        });\n      });\n\n      _this.optionUpdate();\n\n      if (_this.state.answer === _this.state.correctAnswer) {\n        _this.props.firebaseRef.once('value', function (snapshot) {\n          var startTimeStamp = snapshot.val().timeStamp;\n          var currentTime = new Date().getTime();\n          var timeElapsed = Math.round((currentTime - startTimeStamp) / 1000);\n          var newScore = _this.state.score + (50 - timeElapsed);\n\n          var firebaseChangeScore = _this.props.database.ref(\"players/\".concat(_this.state.teamName));\n\n          firebaseChangeScore.child(\"score\").set(newScore);\n\n          _this.setState({\n            score: newScore\n          });\n        });\n      }\n    };\n\n    _this.optionUpdate = function () {\n      var firebaseQuestionFind2 = _this.props.database.ref(\"question/q\".concat(_this.state.liveQuestion));\n\n      var optionACounter;\n      var optionBCounter;\n      var optionCCounter;\n      var optionDCounter;\n      firebaseQuestionFind2.once('value', function (snapshot) {\n        optionACounter = snapshot.val().optionACounter;\n        optionBCounter = snapshot.val().optionBCounter;\n        optionCCounter = snapshot.val().optionCCounter;\n        optionDCounter = snapshot.val().optionDCounter;\n      });\n\n      if (_this.state.answer === 'a') {\n        optionACounter = optionACounter + 1;\n        firebaseQuestionFind2.child('optionACounter').set(optionACounter);\n      }\n\n      if (_this.state.answer === 'b') {\n        optionBCounter = optionBCounter + 1;\n        firebaseQuestionFind2.child('optionBCounter').set(optionBCounter);\n      }\n\n      if (_this.state.answer === 'c') {\n        optionCCounter = optionCCounter + 1;\n        firebaseQuestionFind2.child('optionCCounter').set(optionCCounter);\n      }\n\n      if (_this.state.answer === 'd') {\n        optionDCounter = optionDCounter + 1;\n        firebaseQuestionFind2.child('optionDCounter').set(optionDCounter);\n      }\n    };\n\n    _this.renderOptions = function () {\n      if (_this.state.answered === false && _this.state.counter === 1) return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row text-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"tag col-sm-5\",\n        id: \"a\",\n        onClick: _this.updateAnswer.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, _this.state.optiona), React.createElement(\"button\", {\n        className: \"tag col-sm-5\",\n        id: \"b\",\n        onClick: _this.updateAnswer.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, _this.state.optionb)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row text-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"tag col-sm-5\",\n        id: \"c\",\n        onClick: _this.updateAnswer.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, _this.state.optionc), React.createElement(\"button\", {\n        className: \"tag col-sm-5\",\n        id: \"d\",\n        onClick: _this.updateAnswer.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, _this.state.optiond)));\n      return React.createElement(\"div\", {\n        id: \"answeredOption\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row text-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"tag col-sm-5\",\n        id: \"a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, _this.state.optiona), React.createElement(\"button\", {\n        className: \"tag col-sm-5\",\n        id: \"b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, _this.state.optionb)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row text-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"tag col-sm-5\",\n        id: \"c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, _this.state.optionc), React.createElement(\"button\", {\n        className: \"tag col-sm-5\",\n        id: \"d\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, _this.state.optiond)), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"waitNext\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"Wait for next question\")));\n    };\n\n    _this.state = {\n      percentage: 20,\n      time: \"00:30\",\n      liveQuestion: 0,\n      question: \"\",\n      correctAnswer: \"\",\n      optiona: \"\",\n      optionb: \"\",\n      optionc: \"\",\n      optiond: \"\",\n      answer: \"\",\n      answered: false,\n      counter: 1,\n      score: 0\n    };\n    return _this;\n  }\n\n  _createClass(QuizConsole, [{\n    key: \"render\",\n    value: function render() {\n      // console.log(quesLive)\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(BrandHeader, {\n        teamName: this.props.teamName,\n        participantName: this.props.participantName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"QuestionPage container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-centre justify-content-center row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"questionNumber tag\",\n        style: {\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Quesetion \", this.state.liveQuestion, \" of 10\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"Question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, this.state.question), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, this.renderOptions()), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"timer col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(CircularProgressbar, {\n        className: \"timerCircle\",\n        percentage: this.state.percentage,\n        text: React.createElement(\"tspan\", {\n          dx: needDominantBaselineFix ? -25 : 0,\n          dy: needDominantBaselineFix ? +6 : 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, this.state.time),\n        background: \"true\",\n        backgroundPadding: 0,\n        strokeWidth: 5,\n        styles: {\n          // Customize the root svg element\n          root: {},\n          // Customize the path, i.e. the \"completed progress\"\n          path: {\n            // Path color\n            stroke: \"rgba(250, 0, 250, \".concat(this.state.percentage / 100, \")\"),\n            // Whether to use rounded or flat corners on the ends - can use 'butt' or 'round'\n            strokeLinecap: \"butt\",\n            // Customize transition animation\n            transition: \"stroke-dashoffset 0.5s ease 0s\"\n          },\n          // Customize the circle behind the path, i.e. the \"total progress\"\n          trail: {\n            // Trail color\n            stroke: \"#d6d6d6\"\n          },\n          // Customize the text\n          text: {\n            // Text color\n            fill: \"#34c\",\n            // Text size\n            fontSize: \"20px\"\n          },\n          // Customize background - only used when the `background` prop is true\n          background: {\n            fill: \"white\"\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"continue tag col-sm-2 text-center\",\n        style: {\n          borderRadius: 25\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, \"Continue\"))));\n    }\n  }]);\n\n  return QuizConsole;\n}(Component);\n\nexport default QuizConsole;","map":{"version":3,"sources":["/home/yash/WebDev/Quiz-Website/player-console/src/components/QuizConsole.jsx"],"names":["React","Component","CircularProgressbar","firebase","BrandHeader","needDominantBaselineFix","QuizConsole","props","componentDidMount","firebaseRef","on","snapshot","exists","console","log","val","liveQuestion","setState","updateLiveQuestion","firebaseQuestionFind","database","ref","state","q","question","firebaseUserInfo","teamName","child","set","once","counter","score","a","optionA","correctAnswer","optiona","optionb","optionB","optionc","optionC","optiond","optionD","answered","removeDisabled","document","querySelector","removeAttribute","updateAnswer","event","target","id","setAttribute","answer","firebaseChangeCounter2","optionUpdate","startTimeStamp","timeStamp","currentTime","Date","getTime","timeElapsed","Math","round","newScore","firebaseChangeScore","firebaseQuestionFind2","optionACounter","optionBCounter","optionCCounter","optionDCounter","renderOptions","bind","percentage","time","participantName","justifyContent","root","path","stroke","strokeLinecap","transition","trail","text","fill","fontSize","background","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport CircularProgressbar from \"react-circular-progressbar\";\nimport * as firebase from \"firebase\";\nimport BrandHeader from \"./brandHeader\";\n\nconst needDominantBaselineFix = true;\n\nclass QuizConsole extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      percentage: 20,\n      time: \"00:30\",\n      liveQuestion: 0,\n      question: \"\",\n      correctAnswer: \"\",\n      optiona: \"\",\n      optionb: \"\",\n      optionc: \"\",\n      optiond: \"\",\n      answer: \"\",\n      answered: false,\n      counter: 1,\n      score: 0,\n    };\n  }\n\n  componentDidMount = () => {\n    this.props.firebaseRef.on(\"value\", snapshot => {\n      if (snapshot.exists()) {\n        console.log(snapshot.val().liveQuestion);\n        this.setState({ liveQuestion: snapshot.val().liveQuestion});\n        this.updateLiveQuestion();\n\n      }\n    });\n\n\n    let firebaseQuestionFind = this.props.database.ref(\n      `question/q${this.state.liveQuestion}`\n    );\n    firebaseQuestionFind.on(\"value\", snapshot => {\n      console.log(snapshot.val().q);\n      this.setState({ question: snapshot.val().q });\n    });\n    let firebaseUserInfo = this.props.database.ref(`players/${this.props.teamName}`);\n    firebaseUserInfo.child('counter').set(1);\n        firebaseUserInfo.once('value', (snapshot) =>{\n          \n            this.setState({counter: snapshot.val().counter,\n            score: snapshot.val().score})\n        })\n  };\n\n  updateLiveQuestion = () => {\n    \n    let firebaseQuestionFind = this.props.database.ref(\n      `question/q${this.state.liveQuestion}`\n    );\n    firebaseQuestionFind.on(\"value\", snapshot => {\n      console.log(snapshot.val().q);\n      console.log(snapshot.val().a);\n      console.log(snapshot.val().optionA);\n      this.setState({\n        question: snapshot.val().q,\n        correctAnswer: snapshot.val().a,\n        optiona: snapshot.val().optionA,\n        optionb: snapshot.val().optionB,\n        optionc: snapshot.val().optionC,\n        optiond: snapshot.val().optionD,\n        answered: false,\n        counter: 1,\n      });\n      this.removeDisabled();\n    });\n    \n  };\n\n  removeDisabled=()=>{\n    document\n    .querySelector(\"#a\")\n    .removeAttribute(\"disabled\");\n    document\n    .querySelector(\"#b\")\n    .removeAttribute(\"disabled\");\n    document\n    .querySelector(\"#c\")\n    .removeAttribute(\"disabled\");\n    document\n    .querySelector(\"#d\")\n    .removeAttribute(\"disabled\");\n  }\n\n  updateAnswer = event => {\n    // this.removeDisabled()\n    document\n      .querySelector(`#${event.target.id}`)\n      .setAttribute(\"disabled\", true);\n    this.setState({ answer: event.target.id,\n                    answered: true ,\n                  counter: 2});\n    let firebaseChangeCounter2 = this.props.database.ref(`players/${this.props.teamName}`);\n    firebaseChangeCounter2.child('counter').set(2);\n    let firebaseUserInfo = this.props.database.ref(`players/${this.props.teamName}`);\n        firebaseUserInfo.once('value', (snapshot) =>{\n          \n            this.setState({counter: 2,\n            score: snapshot.val().score})\n        })\n      \n        this.optionUpdate();\n       \n\n       if (this.state.answer === this.state.correctAnswer ) {\n        this.props.firebaseRef.once('value', (snapshot)=> {\n          let startTimeStamp = snapshot.val().timeStamp;\n        let currentTime = new Date().getTime();\n        let timeElapsed =  Math.round((currentTime-startTimeStamp)/1000);\n        let newScore = this.state.score + (50-timeElapsed);\n        let firebaseChangeScore = this.props.database.ref(`players/${this.state.teamName}`);\n        firebaseChangeScore.child(\"score\").set(newScore);\n        this.setState({score: newScore});\n        })\n        \n    }\n      \n  };\n\n  optionUpdate=()=>{\n    let firebaseQuestionFind2 = this.props.database.ref(`question/q${this.state.liveQuestion}`);\n\n    let optionACounter;\n    let optionBCounter;\n    let optionCCounter;\n    let optionDCounter;\n    firebaseQuestionFind2.once('value', function(snapshot) {\n        optionACounter = snapshot.val().optionACounter;\n        optionBCounter = snapshot.val().optionBCounter;\n        optionCCounter = snapshot.val().optionCCounter;\n        optionDCounter = snapshot.val().optionDCounter;\n    })\n\n    if (this.state.answer === 'a') {\n        optionACounter = optionACounter + 1;\n        firebaseQuestionFind2.child('optionACounter').set(optionACounter);\n    }\n\n    if (this.state.answer === 'b') {\n        optionBCounter = optionBCounter + 1;\n        firebaseQuestionFind2.child('optionBCounter').set(optionBCounter);\n    }\n\n    if (this.state.answer === 'c') {\n        optionCCounter = optionCCounter + 1;\n        firebaseQuestionFind2.child('optionCCounter').set(optionCCounter);\n    }\n\n    if (this.state.answer === 'd') {\n        optionDCounter = optionDCounter + 1;\n        firebaseQuestionFind2.child('optionDCounter').set(optionDCounter);\n    }\n  }\n\n  renderOptions = () => {\n    if(this.state.answered===false && this.state.counter===1)\n    return (\n      <div>\n        <div className=\"row text-center justify-content-center\">\n          <button\n            className=\"tag col-sm-5\"\n            id=\"a\"\n            onClick={this.updateAnswer.bind(this)}\n          >\n            {this.state.optiona}\n          </button>\n          <button\n            className=\"tag col-sm-5\"\n            id=\"b\" \n            onClick={this.updateAnswer.bind(this)}\n          >\n            {this.state.optionb}\n          </button>\n        </div>\n        <br />\n        <div className=\"row text-center justify-content-center\">\n          <button\n            className=\"tag col-sm-5\"\n            id=\"c\"\n            onClick={this.updateAnswer.bind(this)}\n          >\n            {this.state.optionc}\n          </button>\n          <button\n            className=\"tag col-sm-5\"\n            id=\"d\"\n            onClick={this.updateAnswer.bind(this)}\n          >\n            {this.state.optiond}\n          </button>\n        </div>\n      </div>\n    );\n\n    return(\n      <div id=\"answeredOption\">\n         <div className=\"row text-center justify-content-center\">\n          <button\n            className=\"tag col-sm-5\"\n            id=\"a\"\n          >\n            {this.state.optiona}\n          </button>\n          <button\n            className=\"tag col-sm-5\"\n            id=\"b\"\n          >\n            {this.state.optionb}\n          </button>\n        </div>\n        <br />\n        <div className=\"row text-center justify-content-center\">\n          <button\n            className=\"tag col-sm-5\"\n            id=\"c\"\n          >\n            {this.state.optionc}\n          </button>\n          <button\n            className=\"tag col-sm-5\"\n            id=\"d\"\n          >\n            {this.state.optiond}\n          </button>\n        </div>\n        <div className=\"row\" >\n          <p id=\"waitNext\">Wait for next question</p>\n        </div>\n      </div>\n    )\n  };\n\n  render() {\n    // console.log(quesLive)\n\n    return (\n      <div>\n        <BrandHeader\n          teamName={this.props.teamName}\n          participantName={this.props.participantName}\n        />\n        <div className=\"QuestionPage container\">\n          <div className=\"text-centre justify-content-center row\">\n            <p\n              className=\"questionNumber tag\"\n              style={{ justifyContent: \"center\" }}\n            >\n              Quesetion {this.state.liveQuestion} of 10\n            </p>\n          </div>\n          <br />\n          <p className=\"Question\">\n            {/* Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolores\n            optio sint repellendus quas, quos, omnis alias quidem, adipisicing\n            elit. Dolores optio sint repellendus quas, quos, omnis alias quidem */}\n            {this.state.question}\n          </p>\n          <br />\n          <div id=\"options\">{this.renderOptions()}</div>\n          <br />\n          <div className=\"row\">\n            <div className=\"col-sm-5\" />\n            <div className=\"timer col-sm-4\">\n              <CircularProgressbar\n                className=\"timerCircle\"\n                percentage={this.state.percentage}\n                text={\n                  <tspan\n                    dx={needDominantBaselineFix ? -25 : 0}\n                    dy={needDominantBaselineFix ? +6 : 0}\n                  >\n                    {this.state.time}\n                  </tspan>\n                }\n                background=\"true\"\n                backgroundPadding={0}\n                strokeWidth={5}\n                styles={{\n                  // Customize the root svg element\n                  root: {},\n                  // Customize the path, i.e. the \"completed progress\"\n                  path: {\n                    // Path color\n                    stroke: `rgba(250, 0, 250, ${this.state.percentage / 100})`,\n                    // Whether to use rounded or flat corners on the ends - can use 'butt' or 'round'\n                    strokeLinecap: \"butt\",\n                    // Customize transition animation\n                    transition: \"stroke-dashoffset 0.5s ease 0s\"\n                  },\n                  // Customize the circle behind the path, i.e. the \"total progress\"\n                  trail: {\n                    // Trail color\n                    stroke: \"#d6d6d6\"\n                  },\n                  // Customize the text\n                  text: {\n                    // Text color\n                    fill: \"#34c\",\n                    // Text size\n                    fontSize: \"20px\"\n                  },\n                  // Customize background - only used when the `background` prop is true\n                  background: {\n                    fill: \"white\"\n                  }\n                }}\n              />\n            </div>\n\n            <div\n              className=\"continue tag col-sm-2 text-center\"\n              style={{ borderRadius: 25 }}\n            >\n              Continue\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default QuizConsole;\n"]},"metadata":{},"sourceType":"module"}